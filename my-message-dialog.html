<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="x5-fullscreen" content="true">
		<meta name="full-screen" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<title>我的消息</title>
		<link rel="stylesheet" href="css/hm-public.css" />
		<link rel="stylesheet" href="css/hm-center.css" />

	</head>

	<body>
		<header class="nav-bar-level clearfix">
			<div class="left-box go-back">
				<a href="javascript:window.history.go(-1)"></a>
			</div>
			<h1>对方昵称B</h1>
			<div class="right-box"></div>
		</header>
		<section class="dialog-box" id="dialog-box">
			<div class="dialog-box-list">
				<p class="time-order"><span>2016-12-01</span></p>
				<dl class="buyer-dialog clearfix">
					<dt><img src="images/img2.png" /> </dt>
					<dd>你好，你在英国做代购吗？</dd>
				</dl>
				<dl class="seller-dialog clearfix">
					<dt><img src="images/img4.png" /> </dt>
					<dd>是的，我在英国伦敦。请问您 想买什么，我查询以后告诉您 价格
					</dd>
				</dl>
				<dl class="buyer-dialog clearfix">
					<dt><img src="images/img2.png" /> </dt>
					<dd><img src="images/need/img8.png" /> </dd>
				</dl>
				<dl class="buyer-dialog clearfix">
					<dt><img src="images/img2.png" /> </dt>
					<dd>你好，你在英国做代购吗？</dd>
				</dl>
				<dl class="buyer-dialog clearfix">
					<dt><img src="images/img2.png" /> </dt>
					<dd>你好，你在英国做代购吗？</dd>
				</dl>
				<dl class="seller-dialog clearfix">
					<dt><img src="images/img4.png" /> </dt>
					<dd>是的，我在英国伦敦。请问您 想买什么，我查询以后告诉您 价格
					</dd>
				</dl>
				<dl class="seller-dialog clearfix">
					<dt><img src="images/img4.png" /> </dt>
					<dd>是的，我在英国伦敦。请问您 想买什么，我查询以后告诉您 价格
					</dd>
				</dl>
				<dl class="seller-dialog clearfix">
					<dt><img src="images/img4.png" /> </dt>
					<dd>是的，我在英国伦敦。请问您 想买什么，我查询以后告诉您 价格
					</dd>
				</dl>
			</div>
		</section>
		<div id="msg_end" style="height:0px; overflow:hidden"></div>
		<footer class="input-box clearfix" id="input-box">
			<div class="creamer"><input type="file" accept="image/*" /></div>
			<div class="input-re">
				<div id="contenteditable" class="contenteditable" contenteditable="true" onfocus="onGetMessage(this)"></div>
			</div>
			<div class="input-send"><input type="button" /></div>
		</footer>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script>
			document.body.ontouchmove = function(e) {
				e.preventDefault();
			};

			var startX = 0,
				startY = 0;
			//touchstart事件  
			function touchSatrtFunc(evt) {
				try {
					//evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等  

					var touch = evt.touches[0]; //获取第一个触点  
					var x = Number(touch.pageX); //页面触点X坐标  
					var y = Number(touch.pageY); //页面触点Y坐标  
					//记录触点初始位置  
					startX = x;
					startY = y;

				} catch(e) {
					alert('touchSatrtFunc：' + e.message);
				}
			}
			document.addEventListener('touchstart', touchSatrtFunc, false);

			var _ss = document.getElementById("dialog-box");
			_ss.ontouchmove = function(ev) {
				var _point = ev.touches[0],
					_top = _ss.scrollTop;
				// 什么时候到底部
				var _bottomFaVal = _ss.scrollHeight - _ss.offsetHeight;
				// 到达顶端
				if(_top === 0) {
					// 阻止向下滑动
					if(_point.clientY > startY) {
						ev.preventDefault();
					} else {
						// 阻止冒泡
						// 正常执行
						ev.stopPropagation();
					}
				} else if(_top === _bottomFaVal) {
					// 到达底部
					// 阻止向上滑动
					if(_point.clientY < startY) {
						ev.preventDefault();
					} else {
						// 阻止冒泡
						// 正常执行
						ev.stopPropagation();
					}
				} else if(_top > 0 && _top < _bottomFaVal) {
					ev.stopPropagation();
				} else {
					ev.preventDefault();
				}
			};
		</script>
	</body>

</html>